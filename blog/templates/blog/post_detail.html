{% extends 'base.html' %}

{% block content %}
    <article>
        <h1>{{ post.title }}</h1>
        
        <p><small>Publicado em: {{ post.created_at|date:"d/m/Y H:i" }}</small></p>

        <p><small>Atualizado em: {{ post.updated_at|date:"d/m/Y H:i" }}</small></p>
        
        <hr>
        
        <div class="content">
            {{ post.content|safe }}
        </div>
    </article>
    
    <hr>
    <a href="{% url 'post_update' post.pk %}">Editar</a> | 
    <a href="{% url 'post_delete' post.pk %}">Deletar</a> |
    <a href="{% url 'post_list' %}">Voltar</a>

    <hr>
    
    <a href="{% url 'add_comment' post.pk %}" class="btn">ðŸ’¬ Adicionar ComentÃ¡rio</a>
    
    <h3>ComentÃ¡rios ({{ post.comments.count }})</h3>
    
    <div class="comments-section">
        {% for comment in post.comments.all %}
            <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                <strong>{{ comment.author }}</strong> disse em {{ comment.created_at|date:"d/m/Y H:i" }}:
                <p>{{ comment.text }}</p>
            </div>
        {% empty %}
            <p>Seja o primeiro a comentar!</p>
        {% endfor %}
    </div>

    <hr>
{% endblock %}